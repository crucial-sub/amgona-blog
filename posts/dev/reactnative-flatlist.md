---
title: '[ReactNative] FlatList á„’á…ªá†¯á„‹á…­á†¼á„’á…¡á„€á…µ(feat. á„á…¬á„Œá…¥á†¨á„’á…ª)'
date: '2024.02.22'
category: 'React-Native'
excerpt: 'FlatListì™€ ê·¸ ìµœì í™” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì!'
thumbnail: '/images/reactnative-flatlist.webp'
---

> React Nativeë¥¼ ê³µë¶€í•˜ë©´ì„œ Todo ì•±ì„ ê°œë°œí•˜ë˜ ì¤‘ ScrollView ì™¸ì— FlatListë¼ëŠ” ìœ ìš©í•œ list ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ ì•Œê²Œ ë˜ì–´ ê·¸ íŠ¹ì§•ê³¼ ìµœì í™” ë°©ë²•ì„ ì •ë¦¬í•˜ê³ ì í•œë‹¤!

## **FlatListë€? (feat. ScrollView)**

`FlatList`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `ScrollView` ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ RN ì»´í¬ë„ŒíŠ¸ì´ë‹¤.

ìš°ë¦¬ê°€ RN ê°œë°œì„ í•˜ë©´ì„œ `ScrollView`ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì€ ë³´í†µ Listì— ë‹´ê¸´ ë°ì´í„°ê°€ í™”ë©´ì„ ë²—ì–´ë‚˜ê²Œ ë  ë•Œ ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤ì„ í†µí•´ ë²—ì–´ë‚œ ë¶€ë¶„ì„ ë³¼ ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•¨ì´ë‹¤.

![scroll-list](https://github.com/crucial-sub/odot/assets/87363422/1bd22486-c0bd-4239-b3e6-d66b232d6c6d)

`ScrollView`ëŠ” ë§ ê·¸ëŒ€ë¡œ ë‹¨ìˆœíˆ ìŠ¤í¬ë¡¤ì„ ìƒì„±í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ì´ê¸° ë•Œë¬¸ì— ë°ì´í„°ê°€ ë§ì§€ ì•Šì„ ë•ŒëŠ” ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.

> â“ í•˜ì§€ë§Œ ë§Œì•½ ìˆ˜ë°±, ìˆ˜ì²œ ê°œì˜ ë°ì´í„°ê°€ ë‹´ê¸´ listë¥¼ ë Œë”ë§í•´ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ??

`ScrollView`ì•ˆì— ë‹´ê¸´ ì•„ì´í…œë“¤ì€ ìŠ¤í¬ë¦°ì— ë³´ì´ì§€ë§Œ ì•Šì„ ë¿, í•œë²ˆì— ì „ì²´ ì˜ì—­ì´ ëª¨ë‘ ë Œë”ë§ ëœë‹¤.

ì¦‰ í˜„ì¬ ìŠ¤í¬ë¦°ì— í‘œì‹œë  ì•„ì´í…œì€ ê³ ì‘ ëª‡ ê°œë°–ì— ì•ˆ ë˜ë”ë¼ë„ ìˆ˜ì²œ ê°œì˜ ë°ì´í„°ê°€ ì´ˆê¸°ì— ë Œë”ë§ ëœë‹¤ëŠ” ê²ƒì¸ë°â€¦

êµ³ì´ ì´ëŸ° ë¹„íš¨ìœ¨ì„ ê°ìˆ˜í•´ì•¼í•  í•„ìš”ê°€ ìˆì„ê¹Œ?

- **ë°”ë¡œ ì´ëŸ° ì˜ë¬¸ì— ê¸°ë°˜ì—ì„œ ë§Œë“¤ì–´ì§„ ê²ƒì´ `FlatList`ì´ë‹¤!**

`FlatList`ëŠ” `LazyLoading`, `Recycling`ê°™ì€ ê¸°ëŠ¥ë“¤ì„ í†µí•´ ë¹„íš¨ìœ¨ì ì¸ ë Œë”ë§ì„ ë°©ì§€í•˜ì—¬ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê¸´ ë¡œë”©ì´ë‚˜ ë²„ë²…ì„ ì—†ì´ ë³´ì—¬ì£¼ê²Œ ëœë‹¤.

### LazyLoading

`LazyLoading`ì€ ì‹¤ì œë¡œ í•„ìš”í•  ë•Œê¹Œì§€ ë¦¬ì†ŒìŠ¤ì˜ ë¡œë”©ì„ ë’¤ë¡œ ë¯¸ë£¨ëŠ” ë°©ì‹ì„ ë§í•œë‹¤.

ì¦‰, ê° ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë Œë”ë§ í•˜ì§€ ì•Šê³  í™”ë©´ì— ë³´ì´ëŠ” ì‹œì ì— ë Œë”ë§í•¨ìœ¼ë¡œì¨ ë¡œë”© í¼í¬ë¨¼ìŠ¤ë¥¼ ìµœì í™”í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

### Recycling

í™”ë©´ì—ì„œ ë²—ì–´ë‚¬ì„ ë•Œ, ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì•„ì˜ˆ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì–¸ë§ˆìš´íŠ¸ í›„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬í™œìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.

## **FlatListì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•**

ë‹¤ìŒ ì½”ë“œ ì˜ˆì‹œë¥¼ í†µí•´ FlatListì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì„ ì•Œì•„ë³´ì

```tsx
...

type ItemType = {
  id: string;
  title: string;
};

const DATA = Array.from({length: 150}, (_, index) => ({
  id: String(index),
  title: `Item ${index}`,
}));

const FlatListExample = () => {
    const renderItem = ({item}: {item: ItemType}) => (
      <View style={styles.item}>
        <Text>{item.title}</Text>
      </View>
    );
    const keyExtractor = (item: ItemType) => `flat-list-item-${item.id}`

    return (
        <FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={keyExtractor}
        />
    );
};

...
```

`FlatList`ë¥¼ ì‚¬ìš©í•  ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ ì•Œì•„ì•¼í•  propsëŠ” ì„¸ê°€ì§€ê°€ ìˆë‹¤.

### data

dataëŠ” ë§ê·¸ëŒ€ë¡œ ë Œë”ë§ í•˜ê³ ì í•˜ëŠ” ë°ì´í„°ë¥¼ ë‹´ëŠ” propsì´ë‹¤.

### renderItem

data propsë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë Œë”ë§í•  ê²ƒì¸ì§€ ì •ì˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

### keyExtractor

Reactì—ì„œ listë¥¼ `map()`í•  ë•Œ ë°ì´í„° ì¶”ì ì„ ìœ„í•´ keyë¥¼ ì„¤ì •í•´ì£¼ì—ˆë“¯ì´ itemì— ê°ê° ê³ ìœ ì˜ í‚¤ë¥¼ ë¶€ì—¬í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

ìœ„ì˜ ë‘ê°œì™€ ë‹¬ë¦¬ í•„ìˆ˜ propsëŠ” ì•„ë‹ˆì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì •í•´ë‘ë©´ ì¢‹ì€ propsì´ë‹¤.

## **FlatList ìµœì í™”**

`FlatList`ì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì„ ì•Œì•„ë³´ì•˜ìœ¼ë‹ˆ ì´ì œ ìµœì í™”í•˜ëŠ” ë°©ë²• ë˜í•œ ì•Œì•„ë³´ì.

> `FlatList` ìì²´ê°€ `ScrollView`ì˜ ë¹„íš¨ìœ¨ì ì¸ ë¶€ë¶„ë“¤ì„ í•´ì†Œí•´ ì£¼ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤ë³´ë‹ˆ, ëŒ€ë¶€ë¶„ì˜ ê¸°ë³¸ì ì¸ ì„¤ì •ë“¤ì´ `FlatList` ë‚´ì— ì„¸íŒ…ë˜ì–´ ìˆë‹¤.
> í•˜ì§€ë§Œ ê°œë°œìê°€ ì§ì ‘ ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ `FlatList`ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ê²ƒ ë˜í•œ ê°€ëŠ¥í•˜ë‹¤!

### initialNumToRender

- **-** ì´ˆê¸°ì— ëª‡ê°œì˜ ì•„ì´í…œì„ ë Œë”ë§í•  ì§€ ì •í•˜ëŠ” propsë¡œ, ì´ˆê¸° ë Œë”ë§ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
- **-** default ê°’ì€ 10(`number`)
- **-** ì•„ì´í…œ ë†’ì´ì™€ í™”ë©´ì—ì„œ `FlatList` ì˜ì—­ì˜ ë†’ì´ë¥¼ ê³ ë ¤í•´ ë¹ˆ ê³³ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤.

### getItemLayout

```tsx
...

const ITEM_HEIGHT = 60;

const FlatListExample = () => {

    ...

    const getItemLayout =  (data: any, index: number) => ({
        length: ITEM_HEIGHT,
        offset: ITEM_HEIGHT * index,
        index,
    });

    return (
        <FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={keyExtractor}
        getItemLayout={getItemLayout}
        />
    );
};

...
```

- **-** ëª¨ë“  ì•„ì´í…œì˜ ë†’ì´ ë˜ëŠ” ë„ˆë¹„ê°€ ë™ì¼í•œ ì •ì ì¸ í•­ëª©ì¼ ê²½ìš°, `getItemLayout` propsë¥¼ í†µí•´ `FlatList`ì—ê²Œ ë¯¸ë¦¬ ê° í•­ëª©ì˜ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ì•Œë ¤ì¤„ ìˆ˜ ìˆë‹¤.
- **-** í•´ë‹¹ propsë¥¼ ì •ì˜í•´ ì£¼ë©´ ì•„ì´í…œì˜ ë ˆì´ì•„ì›ƒ í¬ê¸°ê°€ ë§¤ë²ˆ ê³„ì‚°ë˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ì„±ëŠ¥ ê°œì„ ì— íš¨ê³¼ì ì´ë‹¤.

### windowSize

> ğŸ’¡ ë·°í¬íŠ¸? ìœˆë„ìš°? </br>
> ë·°í¬íŠ¸ëŠ” í”½ì…€ë¡œ ë Œë”ë§ë˜ëŠ” ì½˜í…ì¸ ê°€ ë³´ì´ëŠ” ì˜ì—­,</br>
> ìœˆë„ìš°ëŠ” ì•„ì´í…œì´ ë§ˆìš´íŠ¸ë  ì˜ì—­ìœ¼ë¡œ, ì¼ë°˜ì ìœ¼ë¡œ ë·°í¬íŠ¸ë³´ë‹¤ í›¨ì”¬ í¬ë‹¤.

- **-** ìœˆë„ìš° í¬ê¸°ë¥¼ ì§€ì •í•˜ì—¬ `FlatList` ì˜ì—­ ì™¸ë¶€ì—ì„œ ë Œë”ë§ ë˜ëŠ” ìµœëŒ€ í•­ëª©ìˆ˜ë¥¼ ê²°ì •í•´ì¤€ë‹¤.
- **-** default ê°’ì€ 21(`number`)ì´ë©°, ì´ propsì— ì „ë‹¬ëœ ìˆ«ìëŠ” 1ì´ ë·°í¬íŠ¸ ë†’ì´ì™€ ë™ì¼í•œ ì¸¡ì •ë‹¨ìœ„ì´ë‹¤.
  ì¦‰, ê¸°ë³¸ê°’ 21ì€ í˜„ì¬ ë·°í¬íŠ¸ í•˜ë‚˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìœ„ì•„ë˜ì— ê°ê° 10ê°œì˜ ë·°í¬íŠ¸ë¥¼ ì¶”ê°€ë¡œ ë Œë”ë§í•œë‹¤ëŠ” ëœ»ì´ë‹¤.
- **-** ì´ ê°’ì´ í´ìˆ˜ë¡ ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì´ í–¥ìƒë  ìˆ˜ ìˆì§€ë§Œ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì†Œë¹„í•˜ê²Œ ë˜ê³ ,
  ê°’ì´ ì‘ì„ìˆ˜ë¡ ë§ˆìš´íŠ¸ë˜ëŠ” ì•„ì´í…œì˜ ìˆ˜ê°€ ì ì–´ì§€ë¯€ë¡œ ë©”ëª¨ë¦¬ê°€ ì ˆì•½ë˜ì§€ë§Œ ìŠ¤í¬ë¡¤ í•  ë•Œ ë¹ˆ ì•„ì´í…œ ë˜ëŠ” ë¡œë”© ë·°ë¥¼ ë³´ê²Œë  ìˆ˜ ë„ ìˆë‹¤.
- **-** ë”°ë¼ì„œ ìµœì ì˜ ìˆ«ìë¥¼ ì°¾ì•„ì„œ ì˜ ì„¤ì •í•´ë³´ìã…ã…â€¦ (ë³´í†µì˜ ê²½ìš° ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ëœ 21ë§Œí¼ í° ê°’ê¹Œì§„ í•„ìš” x)

### maxToRenderPerBatch

- **-** ìŠ¤í¬ë¡¤ ì‹œ ë Œë”ë§í•  í•­ëª©ì˜ ìˆ˜(ë Œë”ë§ ëŒ€ê¸°ì—´ì— ì¶”ê°€í•  í•­ëª©ì˜ ìˆ˜)ë¥¼ ê²°ì •í•œë‹¤.
- **-** default ê°’ì€ 10(`number`)
- **-** ì´ ê°’ì´ í´ ìˆ˜ë¡ ìŠ¤í¬ë¡¤ ì‹œ ë¹ˆ ì˜ì—­ì´ ë³´ì¼ ê°€ëŠ¥ì„±ì´ ì ì–´ì§€ê² ì§€ë§Œ ë„ˆë¬´ í´ ê²½ìš° JS ì‹¤í–‰ì‹œê°„ì´ ê¸¸ì–´ì ¸ `press`ê°™ì€ ë‹¤ë¥¸ ì´ë²¤íŠ¸ì˜ ì²˜ë¦¬ê°€ ì°¨ë‹¨ë˜ì–´ ë°˜ì‘ì„±ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.

### ì¸ë¼ì¸ í™”ì‚´í‘œ í•¨ìˆ˜ ì§€ì–‘í•˜ê¸° & useCallback ì‚¬ìš©

ìœ„ì—ì„œ ì„¤ëª…í•œ propsë“¤ì„ ì¸ë¼ì¸ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì‘ì„±í•  ê²½ìš° ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ í•¨ìˆ˜ê°€ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ë Œë”ë§ì´ ë°œìƒí•œë‹¤.

```tsx
...

const FlatListExample = () => {

  ...
  const renderItem = React.useCallback(
    // renderItem ë¡œì§
    , []);
  const keyExtractor = React.useCallback(
    // keyExtractor ë¡œì§
    , []);
  const getItemLayout = React.useCallback(
    // getItemLayout ë¡œì§
    , []);

  return (
      <FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={keyExtractor}
        getItemLayout={getItemLayout}
      />
  );
};

...
```

ë”°ë¼ì„œ `renderItem`, `keyExtractor`, `getItemLayout`ê³¼ ê°™ì€ propsë“¤ì„ ì…ë ¥í•  ë•ŒëŠ” `useCallback`ì„ í™œìš©í•˜ì—¬ ê¼­ í•„ìš”í•  ë•Œë§Œ ì—…ë°ì´íŠ¸ ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤!!
